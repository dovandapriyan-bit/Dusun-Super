<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sistem Keamanan Dusun</title>
  <style>
    /* Global */
    * {margin:0;padding:0;box-sizing:border-box;font-family:Arial, sans-serif;}
    body {background:#f4f6f9;color:#333;min-height:100vh;}

    header {
      background:#1976d2;
      color:white;
      padding:15px;
      text-align:center;
      font-size:20px;
      font-weight:bold;
    }

    .container {padding:20px;max-width:600px;margin:auto;}

    .card {
      background:white;
      border-radius:10px;
      box-shadow:0 3px 6px rgba(0,0,0,0.15);
      padding:20px;
      margin-bottom:20px;
    }

    h2 {margin-bottom:15px;text-align:center;color:#1976d2;}

    input,select {
      width:100%;padding:12px;margin:8px 0;
      border:1px solid #ccc;border-radius:8px;font-size:15px;
    }

    button {
      width:100%;padding:14px;margin-top:10px;
      border:none;border-radius:8px;font-size:16px;
      cursor:pointer;transition:.3s;
    }
    .btn-blue {background:#1976d2;color:white;}
    .btn-blue:hover {background:#125a9c;}
    .btn-green {background:#2ecc71;color:white;}
    .btn-green:hover {background:#27ae60;}
    .btn-red {background:#e74c3c;color:white;}
    .btn-red:hover {background:#c0392b;}

    ul {list-style:none;margin-top:10px;}
    ul li {
      background:#ecf0f1;margin:5px 0;padding:10px;border-radius:6px;
    }
  </style>
</head>
<body>
  <header>Sistem Keamanan Dusun</header>
  <div class="container">

    <!-- LOGIN -->
    <div class="card" id="loginCard">
      <h2>Login Warga</h2>
      <input type="text" id="loginEmail" placeholder="Email">
      <input type="password" id="loginPassword" placeholder="Password">
      <button class="btn-blue" onclick="login()">Login</button>
      <button class="btn-green" onclick="showRegister()">Daftar Warga Baru</button>
    </div>

    <!-- REGISTER -->
    <div class="card" id="registerCard" style="display:none;">
      <h2>Daftar Warga Baru</h2>
      <input type="text" id="regName" placeholder="Nama Lengkap">
      <input type="text" id="regDusunCode" placeholder="Kode Dusun">
      <input type="file" id="regPhoto">
      <input type="email" id="regEmail" placeholder="Email">
      <input type="password" id="regPassword" placeholder="Password">
      <button class="btn-blue" onclick="register()">Daftar</button>
      <button class="btn-green" onclick="showLogin()">Kembali ke Login</button>
    </div>

    <!-- DASHBOARD -->
    <div class="card" id="dashboard" style="display:none;">
      <h2>Menu SOS</h2>
      <button class="btn-red" onclick="sendSOS('Kemalingan')">Kemalingan</button>
      <button class="btn-red" onclick="sendSOS('Kebakaran')">Kebakaran</button>
      <button class="btn-red" onclick="sendSOS('Medis')">Medis</button>
      <button class="btn-red" onclick="sendSOS('Ambulance (Urgent)')">Ambulance (Urgent)</button>

      <h2>Data Warga (RT/RW)</h2>
      <ul id="wargaList">
        <li>Kepala Keluarga: Budi (Blok A1)</li>
        <li>Istri: Siti (Blok A1)</li>
        <li>Anak: Andi (Blok A1)</li>
      </ul>

      <h2>Respon Laporan</h2>
      <ul id="responList"></ul>

      <button class="btn-green" onclick="logout()">Logout</button>
    </div>

  </div>

  <script>
    // Firebase Config (isi asli sing wes mbok kasih)
    const firebaseConfig = {
      apiKey: "AIzaSyA6GAeIc7ZesIed9MAelUf6x_sBFdp9E-Q",
      authDomain: "dusun-super.firebaseapp.com",
      projectId: "dusun-super",
      storageBucket: "dusun-super.firebasestorage.app",
      messagingSenderId: "1083284057385",
      appId: "1:1083284057385:web:21cfe467b047bb5a241b38",
      measurementId: "G-LJ6KP57Q9M"
    };

    // TODO: Tambah Firebase SDK script kene (auth, firestore, messaging)
    // Dummy Functions
    function showRegister() {
      document.getElementById("loginCard").style.display="none";
      document.getElementById("registerCard").style.display="block";
    }
    function showLogin() {
      document.getElementById("loginCard").style.display="block";
      document.getElementById("registerCard").style.display="none";
    }
    function login() {
      document.getElementById("loginCard").style.display="none";
      document.getElementById("dashboard").style.display="block";
    }
    function register() {
      alert("Pendaftaran berhasil (dummy). Tambah integrasi Firebase!");
      showLogin();
    }
    function logout() {
      document.getElementById("dashboard").style.display="none";
      document.getElementById("loginCard").style.display="block";
    }
    function sendSOS(type) {
      const list=document.getElementById("responList");
      const li=document.createElement("li");
      li.textContent="Laporan SOS: "+type+" (dummy)";
      list.appendChild(li);
      alert("SOS '"+type+"' terkirim!");
    }
  </script>
</body>
</html>
